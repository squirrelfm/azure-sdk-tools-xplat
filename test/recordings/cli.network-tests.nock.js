// This file has been autogenerated.

exports.scopes = [[function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4266',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '034d7b5bc5ab8662a03b3f8ff81dc011',
  date: 'Wed, 16 Apr 2014 14:19:59 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '677145dce4788934bcfd0111e4e20f44',
  date: 'Wed, 16 Apr 2014 14:20:01 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/677145dce4788934bcfd0111e4e20f44')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>677145dc-e478-8934-bcfd-0111e4e20f44</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '42ba9e9c06558f1798e54e5e74fc14aa',
  date: 'Wed, 16 Apr 2014 14:20:32 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"DNS-23f5be7109bafba7\" IPAddress=\"10.0.0.1\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4338',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '491e19635e628a0fb288e827c47c2f0e',
  date: 'Wed, 16 Apr 2014 14:20:34 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"DNS-23f5be7109bafba7\" IPAddress=\"10.0.0.1\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4338',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'cba1c2b747638d5ea48ab12d3f11b57d',
  date: 'Wed, 16 Apr 2014 14:20:38 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '476b7af56dea8c55a19d0d50c8b26512',
  date: 'Wed, 16 Apr 2014 14:20:39 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/476b7af56dea8c55a19d0d50c8b26512')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>476b7af5-6dea-8c55-a19d-0d50c8b26512</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'dc9757471da68b7dae5014c58f413e72',
  date: 'Wed, 16 Apr 2014 14:21:11 GMT' });
 return result; }],
[function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4266',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'da11967a7f86887ebd9000df86fc4740',
  date: 'Wed, 16 Apr 2014 14:21:13 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/affinitygroups')
  .reply(200, "<AffinityGroups xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><AffinityGroup><Name>affinity-group-amindxuhrr</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-bwxmqnkepm</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-nsfzpabrlw</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-vkclvzymqj</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity1</Name><Label>dGVzdGxhYmVsdXBkYXRlMg==</Label><Description>This is a test ss for This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group </Description><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity2</Name><Label>YWZmaW5pdHky</Label><Description/><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest1</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest2</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest34</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-261eb65b26a6e5fb</Name><Label>QUctQ0xJLTI2MWViNjViMjZhNmU1ZmI=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-47340f08682aed7e</Name><Label>QUctQ0xJLTQ3MzQwZjA4NjgyYWVkN2U=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-5d66458525fffc9d</Name><Label>QUctQ0xJLTVkNjY0NTg1MjVmZmZjOWQ=</Label><Description i:nil=\"true\"/><Location>West Europe</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-7f933e0ec5592a3d</Name><Label>QUctQ0xJLTdmOTMzZTBlYzU1OTJhM2Q=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-b3a29107176d4bb4</Name><Label>QUctQ0xJLWIzYTI5MTA3MTc2ZDRiYjQ=</Label><Description i:nil=\"true\"/><Location>East US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agbabu1</Name><Label>YWdiYWJ1MQ==</Label><Description i:nil=\"true\"/><Location>East US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agtest</Name><Label>TGFiZWwgTmFtZQ==</Label><Description>sample description</Description><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agtest1</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>anu-affinity-group</Name><Label>YW51LWFmZmluaXR5LWdyb3Vw</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>DeleteMeNet-AG</Name><Label>RGVsZXRlTWVOZXQtQUc=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>EastAsia</Name><Label>RWFzdEFzaWE=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>ihxpxruyns</Name><Label>TGFiZWw=</Label><Description>Some Description</Description><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>integration-test-affinity-group</Name><Label>TGFiZWw=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>my-affinity-group</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>MyCoolNet-AG</Name><Label>TXlDb29sTmV0LUFH</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup01</Name><Label>TmV3QWZmaW5pdHlHcm91cDAx</Label><Description>Test Description</Description><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup02</Name><Label>TmV3QWZmaW5pdHlHcm91cDAy</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup02Tobedeleted</Name><Label>TmV3QWZmaW5pdHlHcm91cDAyVG9iZWRlbGV0ZWQ=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>RubyT</Name><Label>UnVieVQ=</Label><Description/><Location>Southeast Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>test-affinity-group</Name><Label>TGFiZWw=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>test-ag</Name><Label>dGVzdC1hZw==</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>valid1</Name><Label>dmFsaWQx</Label><Description/><Location>Southeast Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup></AffinityGroups>", { 'cache-control': 'no-cache',
  'content-length': '9141',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '70b5da827f518a03a178434a81815f29',
  date: 'Wed, 16 Apr 2014 14:21:21 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/locations')
  .reply(200, "<Locations xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><Location><Name>East Asia</Name><DisplayName>East Asia</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Southeast Asia</Name><DisplayName>Southeast Asia</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>North Europe</Name><DisplayName>North Europe</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>West Europe</Name><DisplayName>West Europe</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>East US</Name><DisplayName>East US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>North Central US</Name><DisplayName>North Central US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService></AvailableServices></Location><Location><Name>South Central US</Name><DisplayName>South Central US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService></AvailableServices></Location><Location><Name>West US</Name><DisplayName>West US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Japan East</Name><DisplayName>Japan East</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Japan West</Name><DisplayName>Japan West</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location></Locations>", { 'cache-control': 'no-cache',
  'content-length': '3029',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '42844c00980784cdbe23c8fbb08d261a',
  date: 'Wed, 16 Apr 2014 14:21:22 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '2985fd672eb38acda3fc8bde1ec8678c',
  date: 'Wed, 16 Apr 2014 14:21:24 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/2985fd672eb38acda3fc8bde1ec8678c')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>2985fd67-2eb3-8acd-a3fc-8bde1ec8678c</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'ff86d4651c298adba3a86c9bec07304a',
  date: 'Wed, 16 Apr 2014 14:21:54 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/virtualnetwork')
  .reply(200, "<VirtualNetworkSites xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><VirtualNetworkSite><Name>5abcd</Name><Id>456b1f19-212f-47a0-85e2-032504975642</Id><AffinityGroup>RubyT</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.10/12</AddressPrefix><AddressPrefix>10.0.0.0/8</AddressPrefix><AddressPrefix>192.168.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>demodns</Name><Address>172.16.77.66</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>integration-test-virtual-network</Name><Id>f781662c-c550-4ae7-bd8e-a48c14f3f8c9</Id><AffinityGroup>test-affinity-group</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>DNS</Name><Address>1.2.3.4</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>MyCoolNet</Name><Id>b64c723b-bfd5-437a-a9b3-4fc2b39f6491</Id><AffinityGroup>MyCoolNet-AG</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/20</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/23</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>mynetwork</Name><Id>386452bd-5cef-4eea-a889-a6e5d0635381</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.4.0.0/16</AddressPrefix><AddressPrefix>10.1.0.0/16</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.4.2.0/19</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.4.32.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>ne@@wvnet$$%10</Name><Id>c27720fe-1c7c-429b-85ec-09cf605307e2</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>new_network</Name><Id>69d6faab-d75c-43c4-a41a-20c36040f0c5</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>newvnet$$%10</Name><Id>1e045b27-4b5a-42f6-8399-23a85df51702</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>testy</Name><Id>06bb8c56-83da-499e-8585-2609db606247</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.11/8</AddressPrefix><AddressPrefix>172.16.77.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.32.0.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>Vnet</Name><Id>a9001b93-75cc-4580-94b4-a200654da28e</Id><AffinityGroup>EastAsia</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/28</AddressPrefix><AddressPrefix>192.168.29.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/29</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>172.16.0.8/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>vnet1</Name><Id>d4837bce-10ff-4b0f-859b-ed4e835101cb</Id><AffinityGroup>affinity-group-amindxuhrr</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/8</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet></Subnets></VirtualNetworkSite></VirtualNetworkSites>", { 'cache-control': 'no-cache',
  'content-length': '4455',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '88dac7a2d55a860daff6761622383601',
  date: 'Wed, 16 Apr 2014 14:21:57 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/virtualnetwork')
  .reply(200, "<VirtualNetworkSites xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><VirtualNetworkSite><Name>5abcd</Name><Id>456b1f19-212f-47a0-85e2-032504975642</Id><AffinityGroup>RubyT</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.10/12</AddressPrefix><AddressPrefix>10.0.0.0/8</AddressPrefix><AddressPrefix>192.168.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>demodns</Name><Address>172.16.77.66</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>integration-test-virtual-network</Name><Id>f781662c-c550-4ae7-bd8e-a48c14f3f8c9</Id><AffinityGroup>test-affinity-group</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>DNS</Name><Address>1.2.3.4</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>MyCoolNet</Name><Id>b64c723b-bfd5-437a-a9b3-4fc2b39f6491</Id><AffinityGroup>MyCoolNet-AG</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/20</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/23</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>mynetwork</Name><Id>386452bd-5cef-4eea-a889-a6e5d0635381</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.4.0.0/16</AddressPrefix><AddressPrefix>10.1.0.0/16</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.4.2.0/19</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.4.32.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>ne@@wvnet$$%10</Name><Id>c27720fe-1c7c-429b-85ec-09cf605307e2</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>new_network</Name><Id>69d6faab-d75c-43c4-a41a-20c36040f0c5</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>newvnet$$%10</Name><Id>1e045b27-4b5a-42f6-8399-23a85df51702</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>testy</Name><Id>06bb8c56-83da-499e-8585-2609db606247</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.11/8</AddressPrefix><AddressPrefix>172.16.77.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.32.0.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>Vnet</Name><Id>a9001b93-75cc-4580-94b4-a200654da28e</Id><AffinityGroup>EastAsia</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/28</AddressPrefix><AddressPrefix>192.168.29.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/29</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>172.16.0.8/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>vnet1</Name><Id>d4837bce-10ff-4b0f-859b-ed4e835101cb</Id><AffinityGroup>affinity-group-amindxuhrr</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/8</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet></Subnets></VirtualNetworkSite></VirtualNetworkSites>", { 'cache-control': 'no-cache',
  'content-length': '4455',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '317a3daaa1ec8f6caab03e3c06287e6e',
  date: 'Wed, 16 Apr 2014 14:22:00 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"vnet1\" AffinityGroup=\"affinity-group-amindxuhrr\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4632',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '65a3ba1619fa8f3695dbcb28fe2c681f',
  date: 'Wed, 16 Apr 2014 14:22:01 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'b8fe9a81b17f89a0b057451d29a0a491',
  date: 'Wed, 16 Apr 2014 14:22:02 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/b8fe9a81b17f89a0b057451d29a0a491')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>b8fe9a81-b17f-89a0-b057-451d29a0a491</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '40b6fb6858a9857a8eaddf1eca2e1ddf',
  date: 'Wed, 16 Apr 2014 14:22:33 GMT' });
 return result; }],
[function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4266',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '4df2edbaf9f28cfdbb9dd513dd9b43b8',
  date: 'Wed, 16 Apr 2014 14:22:35 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '805389e6a0e58ee4b6dc823da3735735',
  date: 'Wed, 16 Apr 2014 14:22:37 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/805389e6a0e58ee4b6dc823da3735735')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>805389e6-a0e5-8ee4-b6dc-823da3735735</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '1f43aa4a387b8cdbb83321cee16bf137',
  date: 'Wed, 16 Apr 2014 14:23:08 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"dns-cli-0\" IPAddress=\"66.77.88.99\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4330',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '1bffc85c79448b6cb10211b5ae0c4cb1',
  date: 'Wed, 16 Apr 2014 14:23:10 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"dns-cli-0\" IPAddress=\"66.77.88.99\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4330',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'a2714ead4381803b97e7b08f4c882ebd',
  date: 'Wed, 16 Apr 2014 14:23:11 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/affinitygroups')
  .reply(200, "<AffinityGroups xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><AffinityGroup><Name>affinity-group-amindxuhrr</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-bwxmqnkepm</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-nsfzpabrlw</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity-group-vkclvzymqj</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity1</Name><Label>dGVzdGxhYmVsdXBkYXRlMg==</Label><Description>This is a test ss for This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test description for affinity group This is a test &lt;html&gt; description for affinity group This is a test description for affinity group This is a test description for affinity group </Description><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinity2</Name><Label>YWZmaW5pdHky</Label><Description/><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest1</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest2</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>affinitygrouptest34</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-261eb65b26a6e5fb</Name><Label>QUctQ0xJLTI2MWViNjViMjZhNmU1ZmI=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-47340f08682aed7e</Name><Label>QUctQ0xJLTQ3MzQwZjA4NjgyYWVkN2U=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-5d66458525fffc9d</Name><Label>QUctQ0xJLTVkNjY0NTg1MjVmZmZjOWQ=</Label><Description i:nil=\"true\"/><Location>West Europe</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-7f933e0ec5592a3d</Name><Label>QUctQ0xJLTdmOTMzZTBlYzU1OTJhM2Q=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>AG-CLI-b3a29107176d4bb4</Name><Label>QUctQ0xJLWIzYTI5MTA3MTc2ZDRiYjQ=</Label><Description i:nil=\"true\"/><Location>East US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agbabu1</Name><Label>YWdiYWJ1MQ==</Label><Description i:nil=\"true\"/><Location>East US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agtest</Name><Label>TGFiZWwgTmFtZQ==</Label><Description>sample description</Description><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>agtest1</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>anu-affinity-group</Name><Label>YW51LWFmZmluaXR5LWdyb3Vw</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>DeleteMeNet-AG</Name><Label>RGVsZXRlTWVOZXQtQUc=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>EastAsia</Name><Label>RWFzdEFzaWE=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>ihxpxruyns</Name><Label>TGFiZWw=</Label><Description>Some Description</Description><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>integration-test-affinity-group</Name><Label>TGFiZWw=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>my-affinity-group</Name><Label>TGFiZWwgTmFtZQ==</Label><Description/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>MyCoolNet-AG</Name><Label>TXlDb29sTmV0LUFH</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup01</Name><Label>TmV3QWZmaW5pdHlHcm91cDAx</Label><Description>Test Description</Description><Location>West US</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup02</Name><Label>TmV3QWZmaW5pdHlHcm91cDAy</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>NewAffinityGroup02Tobedeleted</Name><Label>TmV3QWZmaW5pdHlHcm91cDAyVG9iZWRlbGV0ZWQ=</Label><Description i:nil=\"true\"/><Location>West US</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>RubyT</Name><Label>UnVieVQ=</Label><Description/><Location>Southeast Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>test-affinity-group</Name><Label>TGFiZWw=</Label><Description/><Location>East Asia</Location><Capabilities><Capability>Basic</Capability><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>test-ag</Name><Label>dGVzdC1hZw==</Label><Description/><Location>East Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup><AffinityGroup><Name>valid1</Name><Label>dmFsaWQx</Label><Description/><Location>Southeast Asia</Location><Capabilities><Capability>PersistentVMRole</Capability><Capability>HighMemory</Capability></Capabilities></AffinityGroup></AffinityGroups>", { 'cache-control': 'no-cache',
  'content-length': '9141',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'f525b598ffd9878992282f77481e7ed5',
  date: 'Wed, 16 Apr 2014 14:23:14 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/locations')
  .reply(200, "<Locations xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><Location><Name>East Asia</Name><DisplayName>East Asia</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Southeast Asia</Name><DisplayName>Southeast Asia</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>North Europe</Name><DisplayName>North Europe</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>West Europe</Name><DisplayName>West Europe</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>East US</Name><DisplayName>East US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>North Central US</Name><DisplayName>North Central US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService></AvailableServices></Location><Location><Name>South Central US</Name><DisplayName>South Central US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService></AvailableServices></Location><Location><Name>West US</Name><DisplayName>West US</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Japan East</Name><DisplayName>Japan East</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location><Location><Name>Japan West</Name><DisplayName>Japan West</DisplayName><AvailableServices><AvailableService>Compute</AvailableService><AvailableService>Storage</AvailableService><AvailableService>PersistentVMRole</AvailableService><AvailableService>HighMemory</AvailableService></AvailableServices></Location></Locations>", { 'cache-control': 'no-cache',
  'content-length': '3029',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '2d7dd8eab93f80a78f274084539406eb',
  date: 'Wed, 16 Apr 2014 14:23:15 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '42ee40b528198bb0929516c1126ff301',
  date: 'Wed, 16 Apr 2014 14:23:17 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/42ee40b528198bb0929516c1126ff301')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>42ee40b5-2819-8bb0-9295-16c1126ff301</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '4eaf4e209fe48535aac3b9e5feb226cf',
  date: 'Wed, 16 Apr 2014 14:23:48 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/virtualnetwork')
  .reply(200, "<VirtualNetworkSites xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><VirtualNetworkSite><Name>5abcd</Name><Id>456b1f19-212f-47a0-85e2-032504975642</Id><AffinityGroup>RubyT</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.10/12</AddressPrefix><AddressPrefix>10.0.0.0/8</AddressPrefix><AddressPrefix>192.168.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>demodns</Name><Address>172.16.77.66</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>integration-test-virtual-network</Name><Id>f781662c-c550-4ae7-bd8e-a48c14f3f8c9</Id><AffinityGroup>test-affinity-group</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/12</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>DNS</Name><Address>1.2.3.4</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite><VirtualNetworkSite><Name>MyCoolNet</Name><Id>b64c723b-bfd5-437a-a9b3-4fc2b39f6491</Id><AffinityGroup>MyCoolNet-AG</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/20</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/23</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>mynetwork</Name><Id>386452bd-5cef-4eea-a889-a6e5d0635381</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.4.0.0/16</AddressPrefix><AddressPrefix>10.1.0.0/16</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.4.2.0/19</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.4.32.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>ne@@wvnet$$%10</Name><Id>c27720fe-1c7c-429b-85ec-09cf605307e2</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>new_network</Name><Id>69d6faab-d75c-43c4-a41a-20c36040f0c5</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>newvnet$$%10</Name><Id>1e045b27-4b5a-42f6-8399-23a85df51702</Id><AffinityGroup>NewAffinityGroup01</AffinityGroup><State>Creating</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.8.7/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets/></VirtualNetworkSite><VirtualNetworkSite><Name>testy</Name><Id>06bb8c56-83da-499e-8585-2609db606247</Id><AffinityGroup>affinity1</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.11/8</AddressPrefix><AddressPrefix>172.16.77.0/12</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>10.32.0.0/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>Vnet</Name><Id>a9001b93-75cc-4580-94b4-a200654da28e</Id><AffinityGroup>EastAsia</AffinityGroup><State>Created</State><InUse>true</InUse><AddressSpace><AddressPrefixes><AddressPrefix>172.16.0.0/28</AddressPrefix><AddressPrefix>192.168.29.0/24</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>172.16.0.0/29</AddressPrefix></Subnet><Subnet><Name>GatewaySubnet</Name><AddressPrefix>172.16.0.8/29</AddressPrefix></Subnet></Subnets></VirtualNetworkSite><VirtualNetworkSite><Name>vnet1</Name><Id>ae3ca3ca-40d8-4df0-9ca8-075919f1dcbe</Id><AffinityGroup>affinity-group-amindxuhrr</AffinityGroup><State>Created</State><AddressSpace><AddressPrefixes><AddressPrefix>10.0.0.0/8</AddressPrefix></AddressPrefixes></AddressSpace><Subnets><Subnet><Name>Subnet-1</Name><AddressPrefix>10.0.0.0/11</AddressPrefix></Subnet></Subnets><Dns><DnsServers><DnsServer><Name>dns-cli-0</Name><Address>66.77.88.99</Address></DnsServer></DnsServers></Dns></VirtualNetworkSite></VirtualNetworkSites>", { 'cache-control': 'no-cache',
  'content-length': '4566',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'b9886ba4be0e8e9ea839a76229bde8eb',
  date: 'Wed, 16 Apr 2014 14:23:50 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"dns-cli-0\" IPAddress=\"66.77.88.99\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"vnet1\" AffinityGroup=\"affinity-group-amindxuhrr\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"dns-cli-0\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4792',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '8475f2b52f5a84d784bbea99f5db6168',
  date: 'Wed, 16 Apr 2014 14:23:50 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(409, "<Error xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><Code>ConflictError</Code><Message>An update to your network configuration is currently underway. Please try this operation again later.</Message></Error>", { 'cache-control': 'no-cache',
  'content-length': '263',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '7634eee7dcb683d2ac362a15c80a749b',
  date: 'Wed, 16 Apr 2014 14:23:54 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"dns-cli-0\" IPAddress=\"66.77.88.99\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"vnet1\" AffinityGroup=\"affinity-group-amindxuhrr\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"dns-cli-0\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4792',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '026f0c2a0006876ab139e48b06ee5ea5',
  date: 'Wed, 16 Apr 2014 14:23:55 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media')
  .reply(200, "﻿<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<NetworkConfiguration xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration\">\r\n  <VirtualNetworkConfiguration>\r\n    <Dns>\r\n      <DnsServers>\r\n        <DnsServer name=\"demodns\" IPAddress=\"172.16.77.66\" />\r\n        <DnsServer name=\"DNS\" IPAddress=\"1.2.3.4\" />\r\n        <DnsServer name=\"dns-cli-0\" IPAddress=\"66.77.88.99\" />\r\n        <DnsServer name=\"MyCoolDNS\" IPAddress=\"172.16.77.88\" />\r\n      </DnsServers>\r\n    </Dns>\r\n    <VirtualNetworkSites>\r\n      <VirtualNetworkSite name=\"5abcd\" AffinityGroup=\"RubyT\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.10/12</AddressPrefix>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n          <AddressPrefix>192.168.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"demodns\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"integration-test-virtual-network\" AffinityGroup=\"test-affinity-group\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/12</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"DNS\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"MyCoolNet\" AffinityGroup=\"MyCoolNet-AG\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/20</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/23</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"mynetwork\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.4.0.0/16</AddressPrefix>\r\n          <AddressPrefix>10.1.0.0/16</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.4.2.0/19</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.4.32.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"ne@@wvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"new_network\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"newvnet$$%10\" AffinityGroup=\"NewAffinityGroup01\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.8.7/24</AddressPrefix>\r\n        </AddressSpace>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"testy\" AffinityGroup=\"affinity1\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.11/8</AddressPrefix>\r\n          <AddressPrefix>172.16.77.0/12</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>10.32.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"Vnet\" AffinityGroup=\"EastAsia\">\r\n        <AddressSpace>\r\n          <AddressPrefix>172.16.0.0/28</AddressPrefix>\r\n          <AddressPrefix>192.168.29.0/24</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>172.16.0.0/29</AddressPrefix>\r\n          </Subnet>\r\n          <Subnet name=\"GatewaySubnet\">\r\n            <AddressPrefix>172.16.0.8/29</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n      </VirtualNetworkSite>\r\n      <VirtualNetworkSite name=\"vnet1\" AffinityGroup=\"affinity-group-amindxuhrr\">\r\n        <AddressSpace>\r\n          <AddressPrefix>10.0.0.0/8</AddressPrefix>\r\n        </AddressSpace>\r\n        <Subnets>\r\n          <Subnet name=\"Subnet-1\">\r\n            <AddressPrefix>10.0.0.0/11</AddressPrefix>\r\n          </Subnet>\r\n        </Subnets>\r\n        <DnsServersRef>\r\n          <DnsServerRef name=\"dns-cli-0\" />\r\n        </DnsServersRef>\r\n      </VirtualNetworkSite>\r\n    </VirtualNetworkSites>\r\n  </VirtualNetworkConfiguration>\r\n</NetworkConfiguration>", { 'cache-control': 'no-cache',
  'content-length': '4792',
  'content-type': 'text/plain',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '66907ec17692800fa03e38df470e404d',
  date: 'Wed, 16 Apr 2014 14:23:56 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .filteringRequestBody(function (path) { return '*';})
.put('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/services/networking/media', '*')
  .reply(202, "", { 'cache-control': 'no-cache',
  'content-length': '0',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': '6ad357472ff7848284693300391c1c1e',
  date: 'Wed, 16 Apr 2014 14:23:58 GMT' });
 return result; },
function (nock) { 
var result = 
nock('https://management.core.windows.net')
  .get('/bfb5e0bf-124b-4d0c-9352-7c0a9f4d9948/operations/6ad357472ff7848284693300391c1c1e')
  .reply(200, "<Operation xmlns=\"http://schemas.microsoft.com/windowsazure\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><ID>6ad35747-2ff7-8482-8469-3300391c1c1e</ID><Status>Succeeded</Status><HttpStatusCode>200</HttpStatusCode></Operation>", { 'cache-control': 'no-cache',
  'content-length': '232',
  'content-type': 'application/xml; charset=utf-8',
  server: '1.0.6198.64 (rd_rdfe_stable.140410-1446) Microsoft-HTTPAPI/2.0',
  'x-ms-servedbyregion': 'ussouth2',
  'x-ms-request-id': 'eedc8f16c97189498d430c5187992fcd',
  date: 'Wed, 16 Apr 2014 14:24:29 GMT' });
 return result; }]];